webpackJsonp([3],{ZQNK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Xxa5"),a=n.n(s),o=n("exGp"),i=n.n(o),r={data:function(){return{username:"",contentValue:"",userId:"",notes:[],dispalyMenu:!1,conheight:{height:""}}},mounted:function(){this.conheight.height=window.innerHeight-80+"px"},created:function(){this.username=this.$route.params.name,this.userId=this.$route.params.usercount,console.info(this.$route.params.name+"  "+this.userId),this.load(),window.addEventListener("resize",this.setHeight),this.setHeight()},computed:{},methods:{setHeight:function(){this.conheight.height=window.innerHeight-80+"px"},holdBack:function(){this.$router.push({path:"index"})},holdTask:function(){this.$router.push({name:"taskmain",params:{usercount:this.userId}})},holdMusic:function(){this.$router.push({name:"music",params:{usercount:this.userId}})},holdupdate:function(t){var e=this;return i()(a.a.mark(function n(){var s,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s={id:t.id,note:t.note,content:t.content,state:"1"},n.next=3,e.$axios.post(e.$apiTypes.UPDATE_NOTES,s);case 3:o=n.sent,"success"==o.data&&(e.$Message.info({content:"已标注完成",duration:2}),e.load());case 7:case"end":return n.stop()}},n,e)}))()},submit:function(){var t=this;return i()(a.a.mark(function e(){var n,s,o,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.contentValue){e.next=3;break}return t.warning(),e.abrupt("return");case 3:if(""!=t.userId&&0!=t.userId){e.next=6;break}return t.$Modal.success({title:"",content:"用户无效!"}),e.abrupt("return");case 6:return n=t.getDate(0),s={userId:t.userId,note:t.contentValue,content:t.contentValue,date:n},e.next=10,t.$axios.post(t.$apiTypes.SUBMIT_CONTENT,s);case 10:o=e.sent,"success"==(i=o.data)&&t.$Modal.success({title:"",content:"提交成功!"}),console.info(i),t.load();case 15:case"end":return e.stop()}},e,t)}))()},load:function(){var t=this;return i()(a.a.mark(function e(){var n,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.userId&&0!=t.userId){e.next=3;break}return t.$Modal.success({title:"",content:"用户无效!"}),e.abrupt("return");case 3:return t.getDate(0),e.next=6,t.$axios.get(t.$apiTypes.GET_NOTES+t.userId);case 6:n=e.sent,""!=(s=n.data)&&(t.notes=s),console.info(s);case 11:case"end":return e.stop()}},e,t)}))()},warning:function(t){this.$Notice.warning({title:"Notification title",desc:t?"":"提交内容不能为空！ "})},getDate:function(t){var e=(new Date).getTime(),n=new Date(864e5*t+e).toLocaleString().split(" "),s=n[0].split("/");return s[0]+"年"+s[1]+"月"+s[2]+"日 "+n[1]}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",[n("i-col",{attrs:{span:"24"}},[n("div",{staticClass:"layout"},[n("Layout",[n("Content",{staticClass:"layout-content"},[n("Card",{style:t.conheight},[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-navigate"}}),t._v("lists\n                            ")],1),t._v(" "),n("p",{attrs:{slot:"extra"},slot:"extra"},[n("Button",{attrs:{shape:"circle",size:"large",icon:"ios-film-outline"},on:{click:t.load}},[t._v("加载")])],1),t._v(" "),n("Scroll",{attrs:{height:750}},t._l(t.notes,function(e,s){return n("Row",{key:s,staticStyle:{width:"100%","text-align":"left"}},[n("Row",[t._v(" ")]),t._v(" "),n("Col",{attrs:{span:3}},[t._v(" \n                                        "+t._s(e.date)+"\n                                    ")]),t._v(" "),n("Col",{attrs:{span:19}},[n("Tooltip",{attrs:{content:e.content,placement:"left","max-width":200}},["0"==e.state?n("Tag",{attrs:{color:"error"}},[t._v(t._s(e.content))]):"1"==e.state?n("Tag",{attrs:{color:"success"}},[t._v(t._s(e.content))]):t._e()],1)],1),t._v(" "),n("Col",{attrs:{span:2}},[n("i-button",{directives:[{name:"show",rawName:"v-show",value:"0"==e.state,expression:"item.state=='0'"}],attrs:{size:"small",shape:"circle",icon:"ios-done-all"},on:{click:function(n){t.holdupdate(e)}}})],1)],1)}))],1)],1)],1)],1)])],1),t._v(" "),n("Row",{style:{height:"25px"}},[n("i-col",{staticStyle:{"padding-top":"10px"},attrs:{span:"8"}},[n("i-button",{attrs:{size:"large",shape:"circle",icon:"ios-arrow-back"},on:{click:t.holdBack}})],1),t._v(" "),n("i-col",{staticStyle:{"padding-top":"10px"},attrs:{span:"8"}},[n("i-button",{attrs:{size:"large",shape:"circle",icon:"ios-analytics"},on:{click:t.holdMusic}})],1),t._v(" "),n("i-col",{staticStyle:{"padding-top":"10px"},attrs:{span:"8"}},[n("i-button",{attrs:{size:"large",shape:"circle",icon:"ios-bookmarks-outline"},on:{click:t.holdTask}})],1)],1)],1)},staticRenderFns:[]};var u=n("VU/8")(r,c,!1,function(t){n("y/fw")},null,null);e.default=u.exports},"y/fw":function(t,e){}});
//# sourceMappingURL=3.02a59f4c1b757bf376e9.js.map